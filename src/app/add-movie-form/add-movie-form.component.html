<!-- (submit) will refresh the browser -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/>
<form [formGroup]="movieForm" (ngSubmit)="addMovie()" class="add-movie-form">
  <marquee><h1>Add Movie Form</h1></marquee>
  <mat-slide-toggle>Featured</mat-slide-toggle>
  <mat-form-field>
    <mat-label>Name</mat-label>
    <input matInput formControlName="name" placeholder="Ex. Vikram" />

    <mat-error *ngIf="name?.touched && name?.hasError('required')">
      Why not fill this field 😉?
    </mat-error>
    <mat-error *ngIf="name?.touched && name?.hasError('minlength')">
      Please provide full movie name 😁
    </mat-error>
  </mat-form-field>

  <!-- <mat-form-field>
    <mat-label>Rating</mat-label>
    <input matInput formControlName="rating" placeholder="Ex. 7" />
    <mat-error *ngIf="rating?.touched && rating?.hasError('required')">
      Why not fill this field 😉?
    </mat-error>
    <mat-error *ngIf="rating?.touched && rating?.hasError('min')">
      Please provide minimum rating
    </mat-error>
  </mat-form-field> -->

  <mat-form-field>
    <mat-label>Choose a releaseDate</mat-label>
    <input matInput formControlName="releaseDate" [matDatepicker]="picker" />
    <mat-hint>MM/DD/YYYY</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <h3>Censor Rating</h3>
  <mat-radio-group
    formControlName="censorRating"
    aria-label="Select an Censor rating"
  >
    <mat-radio-button value="U"> U </mat-radio-button>
    <mat-radio-button value="U/A"> U/A </mat-radio-button>
    <mat-radio-button value="A"> A </mat-radio-button>
    <mat-radio-button value="R"> R </mat-radio-button>
  </mat-radio-group>

  <mat-form-field>
    <mat-label>Genres</mat-label>
    <mat-select formControlName="genres" multiple>
      <mat-option *ngFor="let genre of genres" [value]="genre.value">{{
        genre.label
      }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Languages</mat-label>
    <mat-select formControlName="languages" multiple>
      <mat-option *ngFor="let language of languages" [value]="language.value">{{
        language.label
      }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="example-chip-list">
    <mat-chip-grid #chipList>
      <mat-chip-row
        *ngFor="let name of cast.controls; let i = index"
        (removed)="removeCastName(i)"
      >
        {{ name.value }}
        <mat-icon matChipRemove>cancel</mat-icon>
      </mat-chip-row>
      <input
        placeholder="New cast name..."
        [matChipInputFor]="chipList"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        [matChipInputAddOnBlur]="true"
        (matChipInputTokenEnd)="addCastName($event)"
      />
    </mat-chip-grid>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Poster</mat-label>
    <input matInput formControlName="poster" placeholder="Ex. http://img.com" />

    <mat-error *ngIf="poster?.touched && poster?.hasError('required')">
      Why not fill this field 😉?
    </mat-error>
    <mat-error *ngIf="poster?.touched && poster?.hasError('minlength')">
      Please provide full poster
    </mat-error>
    <mat-error *ngIf="poster?.touched && poster?.hasError('pattern')">
      Please provide a url with http pattern
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Summary</mat-label>
    <input matInput formControlName="summary" placeholder="Ex. Cool movie" />

    <mat-error *ngIf="summary?.touched && summary?.hasError('required')">
      Why not fill this field 😉?
    </mat-error>
    <mat-error *ngIf="summary?.touched && summary?.hasError('minlength')">
      Please provide min 20 characters.
    </mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Trailer</mat-label>
    <input matInput formControlName="trailer" placeholder="Ex. Cool movie" />
    <mat-error *ngIf="trailer?.touched && trailer?.hasError('required')">
      Why not fill this field 😉?
    </mat-error>
    <mat-error *ngIf="trailer?.touched && trailer?.hasError('minlength')">
      Please provide a trailer url
    </mat-error>
    <mat-error *ngIf="trailer?.touched && trailer?.hasError('pattern')">
      Please provide a url with http pattern
    </mat-error>
  </mat-form-field>
  <ngx-star-rating formControlName="rating" [id]="'rating'"></ngx-star-rating>

  <button
    [disabled]="movieForm.invalid"
    type="submit"
    mat-raised-button
    color="primary"
  >
    <mat-icon
      aria-hidden="false"
      aria-label="Example home icon"
      fontIcon="add"
    ></mat-icon>
    {{ "Add Movie" | uppercase }}
  </button>
</form>

<pre>
  {{ movieForm.value | json }}
</pre>
